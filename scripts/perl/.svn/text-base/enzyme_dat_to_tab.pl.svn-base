#! usr/local/bin/perl
use strict;
use Encode;
use utf8;
use Unicode::String;
use DBI();

#mysql -u jgoll -pstevevai --host=mysql51-lan-dev --local-infile -e "load data local infile 'enzyme.parsed' into table ec (acc,name)" ifx_metagenomics_reports

my $annotationFile		= $ARGV[0];

open FILE, $annotationFile or die ("could not find $annotationFile");

my ($id,$def);


while(<FILE>) {				
		chomp;	
				
		my $line = $_;

		if($line =~ /^ID /) {
			$line =~ s/^ID\s+//;
			$id = $line ;
		}
		if($line =~ /^DE /) {
			$line =~ s/^DE\s+//;
			$def .= ' '.$line;
		}
		
		if($line =~ /\/\//) {
				
			print &trim($id)."\t".&trim($def)."\n";
			$def = undef;
			$id = undef;
		}
}

close FILE;

sub trim($)
{
	my $string = shift;
	$string =~ s/^\s+//;
	$string =~ s/\s+$//;
	return $string;
}



